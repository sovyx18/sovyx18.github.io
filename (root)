<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>SOVYX</title>
  <style>
  <body>
<!-- Fondo general blanco -->
<body style="background-color:#FFFFFF; font-family:Arial, sans-serif;">

  <!-- Título SOVYX -->
  <h1 style="color:#98FFDC; text-align:center; font-size:48px; margin-top:40px;">SOVYX</h1>
  <p style="color:#98FFDC; text-align:center; font-size:18px;">
    Cápsula editorial predictiva. Corrige, documenta y muta.
  </p>

  <!-- Sección de activación -->
  <div style="background-color:#6A0DAD; padding:30px; margin:40px auto; width:80%; border-radius:12px;">
    <h2 style="color:#98FFDC; text-align:center;">Activa tu cápsula</h2>
    
    <label style="color:#98FFDC;">Instagram:</label><br>
    <input type="text" placeholder="@usuario" style="width:100%; padding:12px; margin-bottom:20px; border:none; border-radius:6px;"><br>

    <label style="color:#98FFDC;">Correo:</label><br>
    <input type="email" placeholder="tucorreo@ejemplo.com" style="width:100%; padding:12px; margin-bottom:20px; border:none; border-radius:6px;"><br>

    <button style="background-color:#98FFDC; color:#6A0DAD; padding:12px 24px; border:none; border-radius:6px; font-weight:bold;">
      Activar cápsula
    </button>
  </div>

  <!-- Sección de corrección -->
  <div style="background-color:#FFFFFF; border:2px solid #6A0DAD; padding:30px; margin:40px auto; width:80%; border-radius:12px;">
    <h2 style="color:#98FFDC;">Corrección inicial</h2>
    <p style="color:#98FFDC;">
      Si es tu primera vez, esta cápsula corregirá tu entrada emocional-financiera.  
      Cada dato que ingreses será documentado como mutación viva.
    </p>
  </div>

</body>

  <!-- Logo + Branding -->
  <img id="logo" src="logo-sovyx.png" alt="Logo SOVYX" />

  <h1>SOVYX</h1>

  <!-- Registro inicial -->
  <section id="registro">
    <h2>Acceso simbólico</h2>
    <form id="registroForm">
      <input type="text" name="usuario" placeholder="Tu nombre o alias" required />
      <input type="email" name="correo" placeholder="Correo electrónico" required />
      <button type="submit">Activar</button>
<a href="https://www.facebook.com/v18.0/dialog/oauth?client_id=TU_APP_ID&redirect_uri=TU_REDIRECT_URI&scope=instagram_basic,instagram_manage_insights,pages_read_engagement">Activar cápsula editorial</a>
    </form>
  </section>

<section id="alcance">
  <h2>Alcance Estratégico por Publicación</h2>
  <ul>
    <li><strong>Alcance definido:</strong> 50.000 personas high ticket</li>
    <li><strong>Cierre simbólico:</strong> 1% = 500 clientes</li>
    <li><strong>Rango por cliente:</strong> €1.000 a €10.000+</li>
    <li><strong>Ingresos estimados:</strong> €500.000 a €5.000.000 por post</li>
  </ul>
  <p><em>Este es un ejemplo si cierras el 1% del alcance por cada reel/post/carrusel que se publique.</em></p>
</section>

  <!-- Formulario predictivo -->
  <section id="formulario">
    <h2>Análisis, Corrección y Simulación</h2>
    <p><em>Este es un ejemplo si cierras el 1% del alcance por cada reel/post/carrusel que se publique.</em></p>
    <form id="capsulaForm">
      <input type="text" name="product" placeholder="Producto" required />
      <input type="number" name="price" placeholder="Precio" required />
      <input type="text" name="niche" placeholder="Nicho" required />
      <input type="text" name="audience" placeholder="Audiencia" required />
      <input type="number" name="goal" placeholder="Meta ($)" required />
      <input type="number" name="days" placeholder="Tiempo (días)" required />
      <button type="submit">Activar</button>
    </form>
  </section>

  <!-- Corrección predictiva -->
  <section id="respuesta"></section>

  <!-- Fundamentos ocultos para el sistema -->
  <div class="oculto" id="fundamentos">
    Emocionalmente inevitable, Financieramente simulable, Documentado en tiempo real, Corrige antes del fallo, Multiplica sin perder esencia, Activa sin vender, Escala sin comunidad, Visualmente icónico, Narrativamente inevitable, Validación pública, Corrección predictiva, Simulación de ingresos.
  </div>


<script>
  // Detección de usuario
  if (localStorage.getItem('sovyx_user')) {
    document.getElementById('registro').style.display = 'none';
    document.getElementById('formulario').style.display = 'block';
    document.getElementById('capsulaForm').style.display = 'block';
  }

  // Registro
  document.getElementById('registroForm').addEventListener('submit', function(e) {
    e.preventDefault();
    localStorage.setItem('sovyx_user', 'true');
    document.getElementById('registro').style.display = 'none';
    document.getElementById('formulario').style.display = 'block';
    document.getElementById('capsulaForm').style.display = 'block';
  });

  // Activación cápsula
  document.getElementById('capsulaForm').addEventListener('submit', function(e) {
    e.preventDefault();
    const form = e.target;
    const data = {
      product: form.product.value,
      price: parseFloat(form.price.value),
      niche: form.niche.value,
      audience: form.audience.value,
      goal: parseFloat(form.goal.value),
      days: parseInt(form.days.value)
    };

    //  Validación simbólica
    if (data.price < 1000) {
      alert("Tu producto está por debajo del rango high ticket (€1.000+). ¿Quieres activar una cápsula de corrección para escalar tu oferta?");
      return;
    }

    //  Simulación predictiva
    const cierreNecesario = Math.ceil(data.goal / data.price);
    const cierrePorDia = Math.ceil(cierreNecesario / data.days);

    fetch('https://sovyx-predictiva-sophie10fra.replit.app/activate', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(data)
    })
    .then(res => res.json())
    .then(response => {
      //  Corrección editorial por nicho
      const niche = data.niche.toLowerCase();
      if (niche.includes("odontología")) {
        response.caption = "¿Tus pacientes no confían en tu marca? Este reel corrige eso.";
      }
      if (niche.includes("fitness")) {
        response.caption = "¿Tu comunidad no paga lo que vale tu transformación? Este carrusel lo corrige.";
      }
      if (niche.includes("tech") || niche.includes("tecnología")) {
        response.caption = "¿Tu software no cierra clientes high ticket? Este post activa autoridad editorial.";
      }

      document.getElementById('respuesta').style.display = 'block';
      document.getElementById('respuesta').innerHTML = `
        <h2>Corrección Predictiva</h2>
        <p><strong>Cluster:</strong> ${response.cluster}</p>
        <p><strong>Caption:</strong> ${response.caption}</p>
        <p><strong>Formato:</strong> ${response.estructura.formato}</p>
        <p><strong>CTA:</strong> ${response.estructura.CTA}</p>
        <p><strong>Cierre necesario:</strong> ${cierreNecesario} clientes</p>
        <p><strong>Cierre diario estimado:</strong> ${cierrePorDia} clientes/día</p>
      `;
    })
    .catch(error => {
      document.getElementById('respuesta').innerText = 'Error al activar la cápsula.';
      console.error(error);
    });
  });
</script>

</body>
</html>
